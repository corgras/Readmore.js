{"version":3,"names":["initReadMore","selector","userOptions","options","collapsedHeight","speed","moreLink","lessLink","breakpoints","lazyLoad","hideButtonCollapse","animationMode","beforeToggle","afterToggle","blockProcessed","elements","document","querySelectorAll","getOptionsForWidth","width","breakpointKeys","Object","keys","map","Number","sort","a","b","key","resizeTimeout","handleResize","clearTimeout","setTimeout","currentOptions","window","innerWidth","forEach","element","initializeReadMore","isExpanded","innerHTML","contentHeight","scrollHeight","adjustedHeight","buttonWrapper","createElement","classList","add","toggleBtn","sanitizeHTML","setAttribute","type","appendChild","style","overflow","height","transition","nextElementSibling","contains","parentNode","insertBefore","nextSibling","display","addEventListener","e","preventDefault","dispatchEvent","CustomEvent","observer","IntersectionObserver","entries","entry","isIntersecting","target","hasAttribute","matches","lazySource","getAttribute","src","tagName","load","observe","inputHTML","tempDiv","sanitizedHTML","replace"],"sources":["readmore.js"],"sourcesContent":["/*!\n * Readmore.js v2.0.0 - JavaScript plugin\n * Author: @RoS (CORGRAS)\n * Project home: https://corgras.github.io/readmore/\n * Github: https://github.com/corgras/Readmore.js\n * Licensed under the MIT license\n */\nfunction initReadMore(selector, userOptions = {}) {\n\tconst defaults = {\n\t\t// Default collapsed height\n\t\t// Высота по умолчанию при сворачивании\n\t\t// Висота за замовчуванням при згортанні\n\t\tcollapsedHeight: 200,\n\n\t\t// Animation speed in ms\n\t\t// Скорость анимации в миллисекундах\n\t\t// Швидкість анімації в мілісекундах\n\t\tspeed: 100,\n\n\t\t// Default 'Read More' link\n\t\t// Ссылка \"Читать больше\" по умолчанию\n\t\t// Посилання \"Читати більше\" за замовчуванням\n\t\tmoreLink: '<span>Read More</span>',\n\n\t\t// Default 'Close' link\n\t\t// Ссылка \"Закрыть\" по умолчанию\n\t\t// Посилання \"Закрити\" за замовчуванням\n\t\tlessLink: '<span>Close</span>',\n\n\t\t// Breakpoints for responsive design\n\t\t// Точки останова для адаптивного дизайна\n\t\t// Точки зупинки для адаптивного дизайну\n\t\tbreakpoints: {},\n\n\t\t// Lazy load option\n\t\t//Опция ленивой загрузки\n\t\t// Опція лінійного завантаження\n\t\tlazyLoad: false,\n\n\t\t// Option to hide collapse button\n\t\t// Опция скрыть кнопку сворачивания\n\t\t// Опція приховати кнопку згортання\n\t\thideButtonCollapse: false,\n\n\t\t// Animation mode (CSS or JS)\n\t\t// Режим анимации (CSS или JS)\n\t\t// Режим анімації (CSS або JS)\n\t\tanimationMode: 'js',\n\n\t\t// Callback before toggle (expand/collapse)\n\t\tbeforeToggle: null,\n\n\t\t// Callback after toggle (expand/collapse)\n\t\tafterToggle: null,\n\n\t\t// Block processed callback\n\t\tblockProcessed: null\n\t};\n\n\tconst options = { ...defaults, ...userOptions };\n\tconst elements = document.querySelectorAll(selector);\n\n\t// Function to get options based on current screen width\n\t// Функція для отримання налаштувань для поточної ширини\n\t// Функция для получения настроек для текущей ширины\n\tfunction getOptionsForWidth(width) {\n\t\tconst breakpoints = options.breakpoints;\n\t\tconst breakpointKeys = Object.keys(breakpoints).map(Number).sort((a, b) => b - a);\n\n\t\tfor (let key of breakpointKeys) {\n\t\t\tif (width <= key) {\n\t\t\t\treturn { ...options, ...breakpoints[key] };\n\t\t\t}\n\t\t}\n\t\treturn options;\n\t}\n\n\t// Resize handler with slight delay for optimization\n\t// Обработчик изменения размера с небольшой задержкой для оптимизации\n\t// Обробник зміни розміру з невеликою затримкою для оптимізації\n\tlet resizeTimeout;\n\tfunction handleResize() {\n\t\tclearTimeout(resizeTimeout);\n\t\tresizeTimeout = setTimeout(() => {\n\t\t\tconst windowWidth = window.innerWidth;\n\t\t\tconst currentOptions = getOptionsForWidth(windowWidth);\n\n\t\t\telements.forEach(element => {\n\t\t\t\tinitializeReadMore(element, currentOptions);\n\t\t\t});\n\t\t}, 100);\n\t}\n\n\t// Main logic for initializing Read More functionality\n\t// Основная логика инициализации функции Read More\n\t// Головна логіка ініціалізації функції Read More\n\tfunction initializeReadMore(element, currentOptions) {\n\t\tlet isExpanded = false;\n\n\t\t// Full content inside the element\n\t\t// Полный контент внутри элемента\n\t\t// Повний контент всередині елемента\n\t\tconst fullContent = element.innerHTML;\n\n\t\t// Height of the content\n\t\t// Высота контента\n\t\t// Висота контенту\n\t\tconst contentHeight = element.scrollHeight;\n\n\t\t// Collapsed height from options\n\t\t// Высота сворачивания из настроек\n\t\t// Висота згортання з налаштувань\n\t\tconst collapsedHeight = currentOptions.collapsedHeight;\n\n\t\t// Animation speed from options\n\t\t// Скорость анимации из настроек\n\t\t// Швидкість анімації з налаштувань\n\t\tconst speed = currentOptions.speed;\n\n\t\t// 'Read More' link from options\n\t\t// Ссылка \"Читать больше\" из настроек\n\t\t// Посилання \"Читати більше\" з налаштувань\n\t\tconst moreLink = currentOptions.moreLink;\n\n\t\t// 'Close' link from options\n\t\t// Ссылка \"Закрыть\" из настроек\n\t\t// Посилання \"Закрити\" з налаштувань\n\t\tconst lessLink = currentOptions.lessLink;\n\n\t\t// Hide collapse button option from options\n\t\t// Опция скрыть кнопку сворачивания из настроек\n\t\t// Опція приховати кнопку згортання з налаштувань\n\t\tconst hideButtonCollapse = currentOptions.hideButtonCollapse;\n\n\t\t// Animation mode from options\n\t\t// Режим анимации из настроек\n\t\t// Режим анімації з налаштувань\n\t\tconst animationMode = currentOptions.animationMode;\n\n\t\tconst adjustedHeight = contentHeight;\n\n\t\t// Create \"Read More\" button\n\t\t// Создание кнопки \"Читать больше\"\n\t\t// Створення кнопки \"Читати більше\"\n\t\tconst buttonWrapper = document.createElement('div');\n\t\tbuttonWrapper.classList.add('cs_readmore-btn-wrapper');\n\n\t\tconst toggleBtn = document.createElement('button');\n\t\ttoggleBtn.innerHTML = sanitizeHTML(moreLink);\n\t\ttoggleBtn.classList.add('cs_readmore-btn');\n\t\ttoggleBtn.setAttribute('data-readmore-btn-toggle', 'collapsed');\n\t\ttoggleBtn.type = 'button';\n\t\tbuttonWrapper.appendChild(toggleBtn);\n\n\t\t// Initial styles and height adjustments\n\t\t// Начальные стили и корректировка высоты\n\t\t// Початкові стилі та коригування висоти\n\t\telement.style.overflow = 'hidden';\n\t\telement.style.height = collapsedHeight + 'px';\n\t\telement.setAttribute('data-readmore-block-toggle', 'collapsed');\n\n\t\tif (animationMode === 'css') {\n\t\t\telement.classList.add('cs_readmore-animation');\n\t\t} else {\n\t\t\telement.style.transition = `height ${speed}ms ease-in-out`;\n\t\t}\n\n\t\tif (!element.nextElementSibling || !element.nextElementSibling.classList.contains('cs_readmore-btn-wrapper')) {\n\t\t\telement.parentNode.insertBefore(buttonWrapper, element.nextSibling);\n\t\t}\n\n\t\t// Check if content height is less than or equal to collapsedHeight\n\t\t// Проверяем, если высота контента меньше или равна высоте сворачивания\n\t\t// Перевіряємо, чи висота контенту менша або дорівнює висоті згортання\n\t\tif (adjustedHeight <= collapsedHeight) {\n\t\t\t// Hide the \"Read More\" button and set height to auto\n\t\t\t// Скрываем кнопку \"Читать далее\" и устанавливаем высоту в auto\n\t\t\t// Приховуємо кнопку \"Читати більше\" та встановлюємо висоту в auto\n\t\t\tbuttonWrapper.style.display = 'none';\n\n\t\t\t// Set height to auto to show the full content\n\t\t\t// Устанавливаем высоту в auto, чтобы показать весь контент\n\t\t\t// Встановлюємо висоту в auto, щоб показати весь контент\n\t\t\telement.style.height = 'auto';\n\t\t}\n\n\t\t// Button click handler\n\t\t// Обработчик клика по кнопке\n\t\t// Обробник кліка по кнопці\n\t\ttoggleBtn.addEventListener('click', (e) => {\n\t\t\te.preventDefault();\n\t\t\tisExpanded = !isExpanded;\n\n\t\t\t// Trigger beforeToggle event\n\t\t\t// Триггер события beforeToggle\n\t\t\t// Запуск події beforeToggle\n\t\t\tif (currentOptions.beforeToggle) {\n\t\t\t\tcurrentOptions.beforeToggle(toggleBtn, element, isExpanded);\n\t\t\t}\n\t\t\telement.dispatchEvent(new CustomEvent('readmore:beforeToggle'));\n\n\t\t\t// Perform the toggle action\n\t\t\t// Выполнение действия переключения\n\t\t\t// Виконання дії перемикання\n\t\t\tif (isExpanded) {\n\t\t\t\telement.style.height = adjustedHeight + 'px';\n\t\t\t\ttoggleBtn.innerHTML = sanitizeHTML(lessLink);\n\t\t\t\telement.setAttribute('data-readmore-block-toggle', 'expanded');\n\t\t\t\ttoggleBtn.setAttribute('data-readmore-btn-toggle', 'expanded');\n\n\t\t\t\tif (hideButtonCollapse) {\n\t\t\t\t\tbuttonWrapper.style.display = 'none';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\telement.style.height = collapsedHeight + 'px';\n\t\t\t\ttoggleBtn.innerHTML = sanitizeHTML(moreLink);\n\t\t\t\telement.setAttribute('data-readmore-block-toggle', 'collapsed');\n\t\t\t\ttoggleBtn.setAttribute('data-readmore-btn-toggle', 'collapsed');\n\t\t\t}\n\n\t\t\t// Trigger afterToggle event\n\t\t\t// Триггер события afterToggle\n\t\t\t// Запуск події afterToggle\n\t\t\tif (currentOptions.afterToggle) {\n\t\t\t\tcurrentOptions.afterToggle(toggleBtn, element, isExpanded);\n\t\t\t}\n\t\t\telement.dispatchEvent(new CustomEvent('readmore:afterToggle'));\n\t\t});\n\n\t\t// Block processed callback\n\t\t// Обработка блока завершена\n\t\t// Обробка блоку завершена\n\t\tif (currentOptions.blockProcessed) {\n\t\t\tcurrentOptions.blockProcessed(element, adjustedHeight > collapsedHeight);\n\t\t}\n\t}\n\n\t// Lazy load initialization\n\t// Инициализация для ленивой загрузки\n\t// Ініціалізація для лінійного завантаження\n\tif (options.lazyLoad) {\n\t\tconst observer = new IntersectionObserver((entries, observer) => {\n\t\t\tentries.forEach(entry => {\n\t\t\t\tif (entry.isIntersecting && !entry.target.hasAttribute('data-readmore-processed')) {\n\t\t\t\t\tif (entry.target.matches('img, video, audio')) {\n\t\t\t\t\t\t// For multimedia: loading the corresponding data\n\t\t\t\t\t\t// Для мультимедиа: загрузка соответствующих данных\n\t\t\t\t\t\t// Для мультимедіа: завантаження відповідних даних\n\t\t\t\t\t\tconst lazySource = entry.target.getAttribute('data-src');\n\t\t\t\t\t\tif (lazySource) {\n\t\t\t\t\t\t\tentry.target.src = lazySource;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (entry.target.tagName === 'VIDEO' || entry.target.tagName === 'AUDIO') {\n\t\t\t\t\t\t\tentry.target.load();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// For content (eg text)\n\t\t\t\t\t\t// Для контента (например, текста)\n\t\t\t\t\t\t// Для контенту (наприклад, тексту)\n\t\t\t\t\t\tinitializeReadMore(entry.target, getOptionsForWidth(window.innerWidth));\n\t\t\t\t\t}\n\t\t\t\t\tentry.target.setAttribute('data-readmore-processed', 'true');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\telements.forEach(element => observer.observe(element));\n\t} else {\n\t\telements.forEach(element => {\n\t\t\tif (element.matches('img, video, audio')) {\n\t\t\t\t// Load media immediately\n\t\t\t\t// Сразу загружаем мультимедиа\n\t\t\t\t// Відразу завантажуємо мультимедіа\n\t\t\t\tconst lazySource = element.getAttribute('data-src');\n\t\t\t\tif (lazySource) {\n\t\t\t\t\telement.src = lazySource;\n\t\t\t\t}\n\t\t\t\tif (element.tagName === 'VIDEO' || element.tagName === 'AUDIO') {\n\t\t\t\t\telement.load();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Initialize the content immediately\n\t\t\t\t// Сразу инициализируем контент\n\t\t\t\t// Відразу ініціалізуємо контент\n\t\t\t\tinitializeReadMore(element, options);\n\t\t\t}\n\t\t});\n\t}\n\n\t// Resize event listener\n\t// Обработчик изменения размера\n\t// Обробник зміни розміру\n\twindow.addEventListener('resize', handleResize);\n\thandleResize();\n\n\t// HTML sanitization function to remove unsafe attributes\n\t// Функция очистки HTML от небезопасных атрибутов\n\t// Функція очищення HTML від небезпечних атрибутів\n\tfunction sanitizeHTML(inputHTML) {\n\t\tconst tempDiv = document.createElement('div');\n\t\ttempDiv.innerHTML = inputHTML;\n\t\tlet sanitizedHTML = tempDiv.innerHTML;\n\t\tsanitizedHTML = sanitizedHTML.replace(/on\\w+=\"[^\"]*\"/g, '').replace(/javascript:/g, '');\n\t\treturn sanitizedHTML;\n\t}\n}"],"mappings":"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","ignoreList":[]}